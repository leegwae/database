# 01. Database System

- 정보와 데이터는 서로 다르다.
  - 데이터는 물리적인 매체에 저장된 사실이다.
  - 정보는 이 데이터를 사람이 이해하기 적합한 형태로 의미 있게 만든 것이다.
  - 데이터는 프로그램과 질의를 사용하여 정보로 변환된다.
- **데이터베이스(database)**는 어떤 조직체의 응용 시스템이 공유해서 사용하는 운영 데이터(operational data)들이 구조적으로 통합된 모임이다.
  - 이때 데이터베이스의 구조는 사용되는 데이터 모델에 의해 결정된다.
- 데이터베이스의 특징은 다음과 같다.
  - (1) 데이터베이스는 데이터를 대규모로 저장하는 저장소로, 여러 사용자에 의해 동시에 사용된다. (여러 사용자가 공유한다.)
  - (2)  데이터베이스에서 모든 데이터는 중복을 최소화하면서 통합된다.
  - (3) 데이터베이스는 조직체의 운영 데이터뿐만 아니라 데이터에 대한 설명을 포함한다. 이 설명은 다음과 같이 부를 수 있다.
    - **데이터베이스 스키마**
    - **메타데이터(metadata)**: 데이터에 대한 데이터
  - (4) 프로그램과 데이터는 각자 독립성을 유지한다.
  - (5) 데이터베이스는 효율적으로 접근할 수 있고 질의를 할 수 있다.
- 보조기억장치에 저장된 이 데이터베이스를 효율적으로 사용하기 위해서는 프로그램이 필요하다.
- **데이터베이스 관리 시스템(DBMS: Database Management System)**: 데이터베이스를 정의하고, 질의어를 지원하고, 리포트를 생성하는 등의 작업을 수행하는 소프트웨어이다.



## 1.1 데이터베이스 시스템 개요

### 1.1.1 데이터베이스 스키마와 상태

아래는 관계 데이터 모델로 표현된 관계데이터베이스이다.

- 예) 데이터베이스 스키마

```
MAJOR(MAJNO, MAJNAME)
STUDENT(STUNO, STUNAME, MNO)
```

- 예) 데이터베이스 상태

<img src="https://user-images.githubusercontent.com/57662010/136700053-15f6ff62-1f77-44c9-9786-52d969ea203b.jpg" alt="데이터베이스 상태" style="zoom: 30%;" />



- **데이터베이스 스키마(database schema)**: 전체적인 데이터베이스의 구조를 뜻한다.
  - 자주 변경되지 않는다.
  - 데이터베이스의 모든 가능한 상태를 미리 정의한다.
  - **내포(intension)**이라고 부른다.
- **데이터베이스 상태(database state)**: 특정 시점에서 본 데이터베이스의 내용을 뜻한다.
  - 시간에 따라 바뀔 수 있다.
  - **외연(extension)**이라고 부른다.
  - DBMS는 데이터베이스의 상태가 유효한 상태를 유지하도록 보장한다.



### 1.1.2 데이터베이스 시스템의 구성요소

- **데이터베이스 시스템(DBS: Database System)**을 구성하는 요소는 다음과 같다.
  - (1) 데이터베이스
  - (2) 사용자(응용 프로그램)
  - (3) DBMS
  - (4) 하드웨어
- 데이터베이스: 어떤 조직체의 사용자들이 공유하며 사용하는 운영 데이터들이 구조적으로 통합된 모임이다. <u>(1) 시스템 카탈로그와 (2) 저장된 데이터베이스로 구분</u>할 수 있다.
  - **시스템 카탈로그(system catalog)**: 저장된 데이터베이스의 스키마 정보를 유지한다.
- DBMS
  - 는 다음과 같은 일을 하는 소프트웨어 패키지이다.
    - 사용자가 데이터베이스를 생성하고
    - 사용자가 데이터베이스의 구조를 명시할 수 있게 하고
    - 사용자가 데이터를 효율적으로 질의, 수정할 수 있게 하고
    - 시스템의 고장이나 권한이 없는 사용자의 접근으로부터 데이터를 보호하며
    - 다수의 사용자가 동시에 데이터베이스에 접근하는 것을 제어한다.
  - DBMS는 데이터베이스 언어를 제공한다.
    - 데이터베이스 언어: 사용자에게 여러 기능을 제공하기 위해 사용하는 특별한 프로그래밍 언어
    - SQL: 여러 DBMS이 제공하는 (사실상의 표준) 데이터베이스 언어이다.
  - 한 개의 DBMS는 여러 개의 데이터베이스를 관리할 수 있다.
  - DBMS와 운영체제는 각자 시스템 콜을 통하여 하드웨어에 저장된 데이터를 요청하고 제공한다.
- 사용자: [1.5 DBMS 사용자 참고](#1.5-DBMS-사용자)
- 하드웨어: DBMS를 사용할 때 하드웨어 자원을 필요로 한다.
  - 데이터베이스는 디스크와 같은 보조 기억 장치에 저장된다.
  - DBMS는 주기억 장치에 적재되어 실행된다.
  - DBMS에서 요청한 데이터(디스크의 블록)는 주기억 장치로 적재되며, 이 데이터에 대한 연산들은 중앙 처리 장치가 수행한다.



### 1.1.3 데이터베이스 시스템의 요구사항

- DBS는 다음의 요구사항을 필수로 만족해야 한다.
  - 데이터 독립성: 응용 프로그램이 데이터 표현의 상세한 내역과 데이터 저장으로부터 독립적이다.
  - 융통성: 기존의 응용 프로그램들에 영향을 주지 않으면서 데이터베이스 구조를 변경할 수 있어야 한다.
  - 효율적인 데이터 접근: 데이터베이스를 효율적으로 저장하고 접근하기 위해 다수의 정교한 기법을 제공해야 한다.
  - 데이터에 대한 동시 접근: 여러 사용자가 동일한 데이터베이스에 동시에 접근할 수 있어야한다. 또한 동시 접근을 동기화하기 위한 동시성 제어를 제공해야한다.
  - 백업과 회복: 시스템 에러 등으로터 데이터베이스를 회복한다. 디스크가 손상을 입는 경우를 대비하여 백업을 수행한다.
  - 중복을 줄이거나 제어하며 일관성 유지: 데이터를 통합하여 동일한 데이터가 여러 개의 사본으로 존재하는 것을 피한다. 성능을 위해 중복을 일부 허용하고 제어할 수 있다.
  - 데이터 무결성: 데이터 무결성은 데이터가 정확하고 완전함을 의미한다. DBMS는 데이터 무결성을 유지하기 위해 사용자가 데이터를 삽입, 삭제, 수정할 때마다 제약조건을 검사한다.
  - 데이터 보안: 권한이 없는 접근으로부터 데이터베이스를 보호한다.
  - 쉬운 질의어: 키워드와 간단한 구문을 사용한 질의어를 통해 질의를 표현하고 결과를 바로 얻을 수 있다.
  - 다양한 사용자 인터페이스의 제공



## 1.2 화일 시스템과 DBMS

### 1.2.1 화일 시스템을 사용한 기존의 데이터 관리

<img src="image\1.5.PNG" alt="1.5" style="zoom:50%;" />

- 화일 시스템은 1960년대부터 사용되어 왔음
- 화일 시스템은 정보를 운영 체제의 화일에 저장한다.
- 화일 시스템의 기본적인 구성요소는 <u>순차적인 **레코드**</u>이다.
- 하나의 <u>레코드는 연관된 필드들의 모임</u>이다.
- 화일을 접근하는 방식이 응용 프로그램 내에 상세하게 표현되므로 데이터에 대한 응용 프로그램의 의존도가 높다.
  - 응용 프로그램은 하나 이상의 화일과 대응한다: 데이터 정의가 프로그램에 내포되어 있다.
  - 화일 내의 데이터 구조가 응용 프로그램에 반영된다.



### 1.2.2 화일 시스템의 단점

화일 시스템의 단점은 다음과 같다.

- (1) 데이터가 많은 화일에 중복해서 저장된다.
- (2) 동시성 제어가 제공되지 않는다.
- (3) 질의어가 제공되지 않는다.
- (4) 보안 조치가 미흡하다.
- (5) 회복 기능이 없다.
- (6) 프로그램과 데이터 간 독립성이 없으므로 유지보수 비용이 많이 소요된다.
- (7) 프로그래머의 생산성이 낮다: 화일을 검색, 갱신하는 절차가 상대적으로 복잡하기 때문
- (8) 데이터의 공유와 융통성이 부족하다.



### 1.2.3 DBMS를 사용한 데이터베이스의 관리

DBMS로 데이터베이스를 다음과 같이 관리할 수 있다.

- (1) 여러 사용자와 응용 프로그램이 데이터베이스를 공유한다.
- (2) DBMS는 사용자의 질의를 빠르게 수행할 수 있도록 인덱스 등의 접근 경로를 선택하고 수행한다.
- (3) 권한이 없는 사용자로부터 데이터베이스를 보호한다.
- (4) 여러 사용자에 적합한 다양한 인터페이스를 제공한다.
- (5) 데이터 간의 복잡한 과녜를 표현한다.
- (6) DBMS는 무결성 제약 조건을 자동적으로 유지한다.
- (7) 시스템에 이상이 생기면 이전 상태로 회복할 수 있다.
- (8) 프로그램에는 영향을 주지 않으면서 데이터베이스를 수정할 수 있다. 그 역도 가능하다.



### 1.2.4 DBMS의 장점

DBMS의 장점은 다음과 같다.

- (1) 중복성과 불일치가 감소된다.
- (2) 시스템을 개발하고 유지하는 비용이 감소된다.
- (3) 프로그램-데이터 독립성이 향상된다.
- (4) 표준화를 사용하기 용이한다.
- (5) 보안이 향상된다.
- (6) 무결성이 향상된다.
- (7) 조직체의 요구사항을 식별할 수 있다.
- (8) 에러로부터 데이터베이스를 회복할 수 있다.
- (9) 데이터베이스를 공유하고 동시에 접근할 수 있다.



### 화일 시스템 방식과 DBMS 방식의 비교

다음은 화일 시스템 방식과 DBMS 방식을 비교한 것이다.

|                    | 화일 시스템 방식                                             | DBMS 방식                                                |
| ------------------ | ------------------------------------------------------------ | -------------------------------------------------------- |
| 데이터에 대한 접근 | 물리적 접근을 조정한다.                                      | 물리적/논리적인 접근을 조정한다.                         |
| 동시 접근          | 동일한 화일에 두 개 이상의 프로그램이 동시에 접근할 수 없다. | 동일한 데이터에 여러 사용자가 동시에 접근할 수 있다.     |
| 구조적인 데이터    | 데이터가 비구조적이다. 중복성과 유지보수 비용이 높다.        | 데이터가 구조화되어 있다. 중복성과 유지보수 비용이 낮다. |
| 접근 권한          | 어떤 프로그램이 기록한 데이터는 다른 프로그램에서 읽을 수 없는 경우가 많다. | 접근 권한이 있는 프로그램은 데이터를 공유한다.           |
| 질의어             | 미리 작성된 프로그램으로 데이터에 접근한다.                  | 질의어를 통하여 데이터에 융통성 있게 접근한다.           |
| 통합된 데이터      | 각 응용 프로그램마다 화일이 따로 있어 데이터가 통합되지 않았다. | 데이터는 중복을 배제하면서 통합되어 있다.                |



### DBMS 선정 시 고려 사항

DBMS를 선정할 때에는 두 가지 요인을 고려해야 한다.

- (1) 기술적 요인: DBMS에서 사용하는 데이터 모델, DBMS의 사용자 인터페이스, 프로그래밍 언어, 응용 개발 도구, 저장 구조. 성능, 접근 방법 등
- (2) 경제적 요인: 소프트웨어와 하드웨어 구입 비용,유지 보수 비용, 직원들의 교육 지원 등



### 1.2.5 DBMS의 단점

DBMS의 단점은 다음과 같다.

- (1) 추가적인 하드웨어 구입 비용, DBMS 구입 비용이 들어간다.
- (2) 직원들 관리 비용이 들어간다.
- (3) 프라이버시 노출 등의 단점이 존재할 수 있다.
- (4) 다음과 같은 경우 DBMS를 사용하는 것은 바람직하지 않을 수 있다.
  - 초기 투자 비용이 너무 클 때
  - 오버헤드가 너무 클 때
  - 응용이 단순하고 잘 정의되었으며 변경되지 않을 것으로 예상될 때
  - 엄격한 실시간 처리 요구사항이 있을 때
  - 데이터에 대한 다수 사용자의 접근이 필요하지 않을 때



## 1.3 DBMS 발전 과정

### 1.3.1 데이터 모델

- 데이터 모델은 <u>(1) 구조(데이터베이스의 구조를 기술하는데 사용되는 개념들의 집합) (2) 이 구조 위에서 동작하는 연산자들 (3) 무결성 제약조건들</u>로 이루어진다.
- 데이터 모델의 목적은 <u>(1) 사용자에게 내부 저장 방식의 세부 사항은 숨기고 (2) 데이터에 대한 직관적인 뷰를 제공하는 동시에 (3) 이들 간의 사상을 제공하는 것</u>이다.



데이터 모델은 다음과 같이 분류할 수 있다.

- **고수준** 또는 **개념적 데이터 모델(conceptual data model)**: 데이터베이스의 전체적인 논리적인 구조를 사람이 인식하는 것과 유사하게 명시한다.
  - 예) 엔티티-관계(ER: Entity-Relationship), 객체 지향 데이터 모델
- **표현(구현) 데이터 모델(representation(implementation) data model)**: 최종 사용자가 이해하는 개념이면서, 컴퓨터 내에서 데이터가 조직되는 방식과 멀리 떨어져 있지 않다.
  - 예) 계층 데이터 모델(hierarchical data model), 네트워크 데이터 모델(network data model), 관계 데이터 모델(relational data model)
- **저수준** 또는 **물리적 데이터 모델(physical data model)**: 시스템이 인식하는 것과 가까움, 데이터베ㅣ스에 데이터가 어떻게 저장되가를 기술한다.
  - 예) Unifying, ISAM, VSAM



일반적으로 데이터베이스 시스템은 두 개 이상의 데이터 모델을 갖는다.

- (1) 물리적인 데이터 모델: 데이터를 저장 장치에 표현하기 위한 모델
- (2) 논리적인 데이터 모델: 사용자 위주로 데이터를 표현하기 위한 모델



### 1.3.2 DBMS의 발전 과정

<img src="image\1.10.PNG" alt="1.10" style="zoom:50%;" />

다음은 DBMS의 발전 과정을 요약한 것이다.

- 60년대와 70년대: 계층 및 네트워크 DBMS
- 80년대 초반 이후: 관계 DBMS
- 80년대 후반 이후: 객체 지향 DBMS(OODBMS: Object-Oriented DBMS)
- 90년대 후반: 객체 관계 DBMS(ORDBMS: Object-Relational DBMS)



#### 1.3.2.1 계층 DBMS

- 60년대 후반 최초의 계층 DBMS 등장: IBM의 IMS
- 계층 DBMS: 트리 구조를 기반으로 하는 계층 데이터 모델을 사용
  - 계층 데이터 모델: 네트워크 데이터 모델의 특별한 사례
  - 부모는 여러 개의 자식을 가질 수 있지만, 자식은 하나의 부모만을 갖는다.
- 계층 DBMS의 장점: 어떤 유형의 응용에 대해서는 빠른 속도와 높은 효율성을 제공
- 계층 DBMS의 단점
  - (1) 어떻게 데이터를 접근하는가를 미리 응용 프로그램에 정의해야 한다.
  - (2) 데이터베이스가 생성될 때 각각의 관계를 명시적으로 정의해야 한다.
  - (3) 레코드들이 링크로 연결되어 있으므로 레코드 구조를 변경하기 어렵다.



#### 1.3.2.2 네트워크 DBMS

- 60년대 초 Charles Bachman이 Honeywell에서 IDS 개발
- 네트워크 데이터 모델을 사용한다: 레코드는 노드로, 레코드들 사이의 관계가 간선으로 표현된다.
  - 자식은 여러 개의 부모를 가질 수 있다. 부모 역시 여러 개의 자식을 가질 수 있다.
- 네트워크 DBMS의 단점: 레코드들이 링크로 연결되어 있어 레코드 구조를 변경하기 어렵다.



#### 1.3.2.3 관계 DBMS

- 70년대 E.F.Codd가 IBM 연구소에서 관계 데이터 모델을 제안
- IBM 연구소의 System R, 캘리포니아 버클리대의 Ingres
- 관계 DBMS의 장점
  - 모델이 간단하여 이해하기 쉽다.
  - 사용자는 자신이 원하는 것(what)만 명시하고, 데이터가 어디에 있고 어떻게 접근해야하는지는 DBMS가 결정한다.
- 예) MS SQL Server, Oracle, Sybase, DB2, MySQL 등



#### 1.3.2.4 객체 지향 DBMS

- 80년대 후반 등장
- 객체 지향 DBMS: 객체 지향 프로그래밍 패러다임을 기반으로 하는 데이터 모델
  - 질의어가 없다.
- 객체 지향 DBMS의 장점
  - 데이터와 프로그램을 그룹화할 수 있다.
  - 복잡한 객체들을 이해하기 쉽다.
  - 유지와 변경이 용이하다.
- 예) ONTOS, OpenOB, GemStone, ObjectStre, Versent, O2 등



#### 1.3.2.5 객체 관계 DBMS

- 90년대 후반 제안됨
- 객체 관계 DBMS: 관계 DBMS에 객체 지향 개념을 통합한 데이터 모델
- 예) 오라클, Informix Universal Server



### DBMS의 분류

| 기준                    | 종류                                                         |
| ----------------------- | ------------------------------------------------------------ |
| 데이터 모델에 따른 분류 | - 계층 DBMS<br />- 네트워크 DBMS<br />- 관계 DBMS<br />- 객체 지향 DBMS<br />- 객체 관계 DBMS |
| 사용자 수에 따른 분류   | - 단일 사용자 DBMS<br />- 다수 사용자 DBMS                   |
| 사이트 수에 따른 분류   | - 중앙 집중식 DBMS<br />- 분산 DBMS                          |
| 접근 방법에 따른 분류   | - 범용 DBMS<br />- 특별한 DBMS                               |



## 1.4 DBMS 언어

관계 DBMS는 다음 세 가지 기능과 SQL을 제공한다.

- (1) DDL: 데이터베이스 스키마를 정의한다.
- (2) DML: 데이터를 조작한다.
- (3) DCL: 트랜잭션을 명시하고 권한을 관리한다.



### 1.4.1 데이터 정의어

- **데이터 정의어(DDL: Data Definition Language)**: 사용자는 데이터 정의어를 사용하여 데이터베이스 스키마를 정의한다.
  - DBMS는 데이터 정의어로 명시된 문장이 입력되면 스키마에 대한 명세를 시스템 카탈로그 또는 데이터 사전에 저장한다.
  - 시스템 카탈로그는 메타데이터를 저장한다.
  - 메타데이터는 데이터베이스에 저장된 데이터에 관한 데이터를 말한다.
- 데이터 정의어의 기본적인 기능은 다음과 같다.
  - (1) 데이터 모델에서 지원하는 데이터 구조를 생성한다.
    - `CREATE TABLE`
  - (2) 데이터 구조를 변경한다.
    - `ALTER TABLE`
  - (3) 데이터 구조를 삭제한다.
    - `DROP TABLE`
  - (4) 데이터 접근을 위하여 특정 애트리뷰트 위에 인덱스를 정의한다.
    - `CREATE INDEX`



<img src="image\1.15.PNG" alt="1.15" style="zoom:50%;" />

<img src="image\1.16.PNG" alt="1.16" style="zoom:50%;" />



### 1.4.2 데이터 조작어

- **데이터 조작어(DML: Data Manipulation Language)**: 사용자는 데이터베이스 내의 원하는 데이터를 검색하고 수정하고 삽입하고 삭제한다.

- 데이터 조작어는 두 종류가 있다.
  - (1) **절차적 언어(procedural language)**: 어떤 데이터가 필요하고 어떻게 데이터를 찾을 것인지 명시한다.
  - (2) **비절차적 언어(non-procedural language)**: 어떤 데이터를 원하는지 명시하고 검색하는 방법은 명시하지 않는다.
    - 예) 관계 DBMS에서 사용되는 SQL
- 대부분의 데이터 조작어는 SUM, MAX, MIN과 같은 내장 함수들을 갖는다.
- 데이터 조작어는 단말기에서 대화식으로 입력되어 수행되거나 고급 프로그래밍 언어로 작성된 내포되어 사용된다.
- 데이터 조작어의 기본적인 기능은 다음과 같다.
  - (1) 데이터를 검색한다.
  - (2) 데이터를 수정한다.
  - (3) 데이터를 삭제한다.
  - (4) 데이터를 삽입한다.



### 1.4.3 데이터 제어어

**데이터 제어어(DCL: Data Control Language)**: 데이터베이스 트랙재션을 명시하고 권한을 부여하거나 취소한다.



## 1.5 DBMS 사용자

데이터베이스를 구축하고, 유지하고 사용하기 위해서는 다양한 사용자들이 관계된다.



### 1.5.1 데이터베이스 관리자

- **데이터베이스 관리자(DBA: Database Administrator)**: 조직의 여러 부분의 상이한 요구를 만족시키기 위해 일관성 있는 데이터베이스 스키마를 생성하고 유지하는 사람
- 데이터베이스 관리자는 다음과 같은 역할을 한다.
  - (1) 데이터베이스 스키마를 생성하고 변경한다.
  - (2) 무결정 제약조건을 명시한다.
  - (3) 사용자의 권한과 역할을 관리한다.
  - (4) 저장 구조와 접근 방법(물리적 스키마)를 정의한다.
  - (5) 데이터베이스를 백업하고 회복한다.
  - (6) 데이터베이스에 대한 표준화를 시행한다.



### 1.5.2 응용 프로그래머

- **응용 프로그래머(application programmer)**: 데이터베이스 위에서 특정 응용이나 인터페이스를 구현하는 사람
- 응용 프로그래머는 다음과 같은 역할을 한다.
  - (1) 고급 프로그래밍 언어로 응용 프로그램을 개발하면서 데이터베이스를 접근하는 부분은 내포된 데이터 조작어를 사용한다.
  - (2) 응용 프로그래머가 작성한 이 프로그램은 최종 사용자들이 반복해서 수행하므로 **기작성 트랙잭션(canned transaction)**라고 부른다.



### 1.5.3 최종 사용자

- **최종 사용자(end user)**: 데이터를 질의하거나, 갱신하거나 보고서를 생성하기 위해서 데이터베이스를 사용하는 사람
- 최종 사용자는 두 부류로 나눌 수 있다.
  - (1) 캐주얼 사용자: 데이터베이스 질의어를 사용하여 매번 다른 정보를 찾는 최종 사용자
  - (2) 초보 사용자: 기작성 트랜잭션을 주로 반복해서 수행하는 최종 사용자



### 1.5.4 데이터베이스 설계자

- **데이터베이스 설계자(database designer)**: ERWin 등의 CASE 도구들을 이용해서 데이터베이스를 설계한다.
- 데이터베이스 설계자는 데이터베이스의 일관성을 유지하기 위해 정규화를 수행한다.



### 1.5.5 오퍼레이터

- **오퍼레이터(operator)**: DBMS가 운영되고 있는 컴퓨터 시스템과 전산실을 관리하는 사람이다.



## 1.6 ANSI/SPARC 아키텍처와 데이터 독립성

### 1.6.1 ANSI/SPARC 아키텍처

<img src="image\1.18.PNG" alt="1.18" style="zoom:50%;" />

- **ANSI/SPARC 아키텍처**는 1978년에 제안되었다.
  - 현재 대부분의 상용 DBMS은 ANSI/SPARC 아키텍처로 구현되었다.



ANSI/SPARC 아키텍처는 3단계로 이루어진 3단계 데이터베이스 아키텍처이다.

- **외부 단계(external level)**: 각 사용자의 뷰(=외부 뷰 =외부 스키마)
- **개념 단계(coneptual level)**: 사용자 공동체의 뷰(=개념 뷰 =개념 스키마)
- **내부 단계(internal level)**: 물리적 또는 저장 뷰(=내부 뷰 =내부 스키마)
- 내부 단계에서 외부 단계로 올라갈수록 추상화 수준이 높아진다.



#### 1.6.1.1 외부 단계

- **외부 단계**는 데이터베이스의 각 사용자가 가지는 뷰이다.
  - 사용자와 응용 프로그램들이 어떻게 데이터를 보는지 기술한다.
- 외부-개념 사상: 여러 부류의 사용자를 위하여 개념 단계로부터 서로 다른 뷰가 제공될 수 있다.
  - 가령, 이준영은 롤 챔피언들에 대한 정보만 궁금하지 롤의 모든 정보를 알고 싶지는 않다. 개념 단계의 여러 테이블 중 롤 챔피언에 대한 정보를 담고 있는 여러 개의 테이블로부터 일부 애트리뷰트를 선택하여 외부 단계의 뷰로서 새로운 테이블들을 정의할 수 있는 것이다.
  - 아니면 개념 단계의 성적 테이블로부터 외부 단계의 뷰에서는 평균만을 뽑아보고 싶을 수도 있다.



#### 1.6.1.2 개념 단계

- **개념 단계**는 데이터베이스에 대한 사용자 공동체의 뷰이다.
  - 조직체의 정보 모델로서, 물리적인 구현은 고려하지 않고 조직체 전체에 관한 스키마를 포함한다.
  - 전체 데이터베이스의 논리적인 구조를 명시한다: 데이터베이스에 어떤 데이터가 저장되어 있는지, 데이터 간에 어떤 관계가 존재하는지, 어떤 무결성 제약조건들이 명시되어있는지를 기술한다.
- 데이터베이스에 개념 스키마는 단 하나 존재하며, <u>관계 데이터 모델에서 개념 스키마는 테이블들의 집합</u>으로 나타낸다.
- 개념-내부 사상: 테이블이 디스크에 저장된 파일로 변환된다. 혹은 그 역.



#### 1.6.1.3 내부 단계

- **내부 단계**는 실제의 물리적인 구조에 관한 스키마이다.
  - 데이터베이스에 어떤 데이터가 어떻게 저장되어 있는가를 기술한다.
  - 인덱스, 해싱 등과 같은 접근 경로와 데이터 압축 등을 기술한다.
- 데이터베이스에 내부 스키마는 단 하나 존재한다. 성능을 위하여 개념 스키마에는 영향을 끼치지 않으면서 내부 스키마를 변경하는 것이 바람직하다.
- 내부 단계 아래의 물리적 단계는 DBMS의 지시에 따라 운영 체제가 관리한다.



예) 노선도의 예시

외부 단계: 이준영은 통학할 때 사용하는 잠실역과 왕십리역만 알고 싶다.

내부 단계: 잠실역에 출구가 몇 개인가



#### 1.6.1.4 스키마 간의 사상

<img src="image\1.21.PNG" alt="1.21" style="zoom:50%;" />

DBMS는 세 가지 유형의 스키마 간의 사상을 다룬다.

- **외부/개념 사상(external/conceptual mapping)**: 외부 단계의 뷰를 사용하여, 입력된 사용자의 질의를 개념 단계의 스키마를 사용한 질의로 변환한다.
- **개념/내부 사상(conceptual/internal mapping)**: 외부/개념 사상의 결과를 내부 단계의 스키마로 변환하여 디스크의 데이터베이스에 접근한다.



### 1.6.2 데이터 독립성

- ANSI/SPARC 아키텍처의 주요한 목적은 **데이터 독립성(data independence)**를 제공하는 것이다.
- 데이터 독립성은 상위 단계의 스키마 정의에 영향을 주지 않으면서 어떤 단계의 스키마 정의를 변경할 수 있음을 의미한다.
- 데이터 독립성은 다음과 같이 나눌 수 있다.
  - **논리적 데이터 독립성(logical data independence)**:  외부 단계와 개념 단계 사이에서 적용된다.
  - **물리적 데이터 독립성(physical data independence)**: 개념 단계와 내부 단계 사이에서 적용된다.



#### 1.6.2.1 논리적 데이터 독립성

- 논리적 데이터 독립성: 개념 스키마의 변화가 외부 스키마에 영향을 끼치지 않는다.



#### 1.6.2.2 물리적 데이터 독립성

- 물리적 데이터 독립성: 내부 스키마의 변화가 개념 스키마의 변화에 영향을 끼치지 않고, 외부 스키마(또는 응용 프로그램)에도 영향을 미치지 않는다.
- 내부 스키마를 변경하는 예: 화일의 저장 구조를 바꾸거나 인덱스를 생성하고 삭제하는 것



## 1.7 데이터베이스 시스템 아키텍처

<img src="image\1.22.PNG" alt="1.22" style="zoom:50%;" />

### 1.7.1 데이터베이스 시스템 아키텍처를 이루는 모듈들

데이터베이스 관리자가 데이터 정의어를 사용하여 테이블 생성을 요청하면, **데이터 정의어 컴파일러(DDL compiler) 모듈**은 다음과 같은 일을 한다.

- (1) 데이터 정의어를 번역한다. 
- (2) 데이터베이스에 파일 형태로 테이블을 만든다.
- (3) 시스템 카탈로그에 테이블에 대한 명세를 저장한다.



최종 사용자나 응용 프로그래머가 데이터 조작어를 사용하여 데이터베이스를 접근한다면, **질의 처리기(query processor) 모듈**은 다음과 같은 일을 한다.

- (1) 질의 처리기는 순수 소프트웨어로서 데이터 조작어를 수행하는 최적의 방법을 찾는다.
- (2) 데이터 조작어를 기계어 코드로 번역한다.
- (3) **런타임 데이터베이스 관리기(run-time database manager) 모듈**이 디스크에 저장된 데이터베이스에 접근한다.



데이터베이스 접근 과정에서 **트랜잭션 관리(transaction management) 모듈**이 사용되며, 이 모듈은 다음 두 모듈을 합한 것이다.

- **동시성 제어(concurrency control) 모듈**: 여러 사용자가 동일한 데이터베이스에 접근할 때 생길 수 있는 데이터 불일치를 해결한다.
- **회복(recovery) 모듈**: 시스템에 오류가 생기면, 다운되기 직전의 일관된 데이터베이스의 상태를 복구한다.



**데이터베이스 API**(Application Program Interface 또는 드라이버): 동일한 데이터베이스 API를 지원하는 DBMS 간에는 서로의 데이터베이스에 접근할 수 있다. 대표적인 데이터베이스 API는 다음과 같다.

- ODBC(Open Database Connectivity): 마이크로소프트가 주도하여 개발한 데이터베이스 API
- JDBC(Java Database Connectivity): 자바가 운영되는 모든 플랫폼에서 지원되는 데이터베이스 API



### 1.7.2 데이터베이스 시스템 아키텍처의 종류

데이터베이스 시스템의 아키텍처는 데이터베이스 시스템을 운영하는데 연관된 사이트들의 수와 사이트들의 역할에 따라 다음과 같이 몇 가지 유형으로 구분할 수 있다.



#### 1.7.2.1 중앙 집중식 데이터베이스 시스템

**중앙 집중식 데이터베이스 시스템(centerlized database system)**

- 데이터베이스 시스템이 하나의 컴퓨터 시스템에서 운영된다.
- 여러 단말기에서 이 데이터베이스에 접근한다.



#### 1.7.2.2 분산 데이터베이스 시스템

<img src="image\1.24.PNG" alt="1.24" style="zoom:50%;" />

**분산 데이터베이스 시스템(distributed database system)**

- 데이터베이스가 네트워크로 연결된 여러 사이트에 분산된다.
- 데이터베이스 시스템도 여러 컴퓨터 시스템에서 운영된다.
- 사용자는 다른 사이트에 저장된 데이터베이스에도 접근할 수 있다.



#### 1.7.2.3 클라이언트-서버 데이터베이스 시스템

<img src="image\1.27.PNG" alt="1.27" style="zoom:50%;" />

**클라이언트-서버 데이터베이스 시스템(clinet-server database system)**

- PC 또는 워크스테이션과 같이 자체 컴퓨팅 능력을 가진 클라이언트를 통하여 데이터베이스 서버에 접근한다.
- 데이터베이스는 하나의 데이터베이스 서버에 저장되어 있다.
- 데이터베이스 시스템의 기능이 서버와 클라이언트에 분산된다.
  - 서버는 다음과 같은 역할을 한다.
    - 데이터베이스를 저장한다.
    - DBMS를 운영하며 여러 클라이언트에서 온 질의를 최적화하고, 권한 검사를 수행하고, 동시성 제어와 회복 기능을 수행하고, 데이터베이스의 무결성을 유지하고, 데이터베이스 접근을 관리한다.
  - 클라이언트는 사용자 인터페이스를 관리하고 응용들을 수행한다.



클라이언트-서버 데이터베이스 시스템은 두 모델로 나눌 수 있다.

- 2층 모델(2-tier model): 클라이언트와 데이터베이스 서버가 직접적으로 연결된다.
- 3층 모델(3-tier model): 클라이언트와 데이터베이스 서버 사이에 응용 서버(application server)가 추가된다.



클라이언트-서버 데이터베이스 시스템의 장점

- 데이터베이스를 보다 넓은 지역에서 접근할 수 있다.
- 다양한 컴퓨터 시스템을 사용할 수 있다.



클라이언트-서버 데이터베이스 시스템의 단점: 보안이 다소 취약할 수 있다.

